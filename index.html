<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Atom-Craft - Servidor de Minecraft</title>

  <!-- CSS local (ya lo tenías bien) -->
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Favicon: servir desde tu propio Pages -->
  <link rel="icon" type="image/x-icon" href="favicon.ico" />

  <!-- Font Awesome desde CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <style>
    /* Fondo: usar imagen local (raíz del repo) */
    body{
      font-family:Arial,sans-serif;
      background:url('p01KGj0.png') no-repeat center center fixed;
      background-size:cover;
      color:#fff;text-align:center;padding:20px
    }
    .logo-container{display:flex;justify-content:center;align-items:center;text-align:center;margin-top:20px;margin-bottom:30px}
    .logo{width:50%;max-width:500px;min-width:300px}
    @media (min-width:1024px){.logo{width:40%;max-width:600px}}
    @media (max-width:600px){.logo{width:80%;max-width:400px}}
    .rules,.social{background:rgba(0,0,0,.6);padding:15px;margin:10px auto;width:80%;border-radius:10px}
    .social a{font-size:1rem;color:#fff;text-decoration:none;margin:0 10px}
    .social a i{font-size:1.3rem;margin-right:5px}
    .fa-youtube{color:#FF0000}.fa-discord{color:#5865F2}.fa-facebook{color:#1877F2}
    a{color:#00ff00;text-decoration:none;font-weight:bold}
  </style>
</head>
<body>
  <nav>
    <a href="index.html">Atom</a> |
    <a href="vip.html">Vip</a> |
    <a href="servidor.html">Status</a> |
    <a href="like.html">Likes</a>
  </nav>

  <div class="logo-container">
    <!-- Logo: servir desde /img del repo -->
    <img src="img/Logo-Principal.png" alt="Atom-Craft Logo" class="logo" />
  </div>

  <div class="main-container">
    <div class="server-info">
      <h2>🌍 IP del servidor: <span id="ip-servidor" class="copy-ip">atomcraft.papu.host</span></h2>
      <p id="copy-message" style="display:none;color:#FFD700;font-size:14px;">¡Copiado al portapapeles!</p>
    </div>

    <div class="welcome-box">
      <h2>📜 <strong>Bienvenido/a al Servidor de Minecraft</strong></h2>
      <p class="welcome-text">
        🎮 <strong>Atom-Craft</strong> Un lugar donde la creatividad, la aventura y la comunidad se unen.<br>
        🚀 Explora, construye y únete a eventos especiales mientras disfrutas con amigos.<br>
        🏆 ¡Demuestra tus habilidades y conviértete en una leyenda del servidor!<br>
        🛠️ Recuerda seguir las reglas y ayudar a mantener un ambiente amigable para todos.
      </p>
      <p class="server-warning">⚠️ <span style="color:red;">Tener en cuenta que aún el servidor está en construcción</span></p>
    </div>

    <div class="social">
      <h2>🌍 Redes Sociales</h2>
      <p>Únete a nuestra comunidad:</p>
      <p>
        <a href="https://www.youtube.com/@servidor-atom-craft" target="_blank"><i class="fab fa-youtube"></i> YouTube</a> |
        <a href="https://discord.com/invite/2H78NFnA73" target="_blank"><i class="fab fa-discord"></i> Discord</a> |
        <a href="https://www.facebook.com/AtomCraft2013" target="_blank"><i class="fab fa-facebook"></i> Facebook</a>
      </p>
    </div>
  </div>

  <!-- Contador de visitas -->
  Visitas: <strong id="visitas">...</strong>

  <script src="https://cdn.jsdelivr.net/npm/counterapi/dist/counter.browser.min.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', async () => {
    const el = document.getElementById('visitas');
    const counter = new Counter({ workspace: 'atom-craft' });
    const COUNTER = 'vistas';
    const KEY = 'vistas:last';
    const HOUR = 60*60*1000; // 1 hora

    // Suma solo si pasó 1 hora desde la última vez en este navegador
    const last = Number(localStorage.getItem(KEY) || 0);
    if (Date.now() - last > HOUR) {
      try { await counter.up(COUNTER); localStorage.setItem(KEY, String(Date.now())); } catch {}
    }

    // Muestra el mismo número que ves en el panel (Up Count)
    try {
      const s = await counter.stats(COUNTER);
      el.textContent = (s?.data?.up_count ?? 0).toLocaleString('es-ES');
    } catch {
      // Por si falla stats, intenta get como respaldo
      try {
        const r = await counter.get(COUNTER);
        el.textContent = (r?.data?.value ?? r?.value ?? 0).toLocaleString('es-ES');
      } catch { el.textContent = '0'; }
    }

    // Refresco cortito por la consistencia eventual
    setTimeout(async () => {
      try {
        const s2 = await counter.stats(COUNTER);
        el.textContent = (s2?.data?.up_count ?? 0).toLocaleString('es-ES');
      } catch {}
    }, 2000);
  });
  </script>
</body>
</html>
